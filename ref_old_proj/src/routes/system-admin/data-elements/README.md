# Data Elements Management

This page provides a comprehensive interface for managing system data elements in the application.

## Features

### Form Functionality
- **Dropdown Selection**: Choose from existing data element names
- **Create New**: Add new data element names not present in the database
- **Value Input**: Text area for entering data element values
- **Validation**: All fields are mandatory
- **User Tracking**: Automatically records who modified each entry

### Table Display
- **View All**: Display all existing data elements in a sortable table
- **Edit**: Modify existing data element values
- **Delete**: Remove data elements with confirmation
- **Refresh**: Reload data from the database

## Database Schema

The data elements are stored in the `sys_data_elements` table:

```sql
CREATE TABLE public.sys_data_elements (
  id bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  de_name character varying NOT NULL,
  de_value character varying NOT NULL,
  modified_by character varying NOT NULL,
  modified_dt timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT sys_data_elements_pkey PRIMARY KEY (id)
);
```

## Access Control

- Only admin users can access this page
- Session validation is enforced
- User activity is logged with email and timestamp

## Usage

1. **Adding New Data Elements**:
   - Select "Create New" to add a new data element name
   - Enter the name and value
   - Click "Save Data Element"

2. **Using Existing Data Elements**:
   - Select an existing data element name from the dropdown
   - Enter the value
   - Click "Save Data Element"

3. **Managing Existing Data Elements**:
   - View all entries in the table below the form
   - Click "Edit" to modify values
   - Click "Delete" to remove entries

## Technical Implementation

- **Frontend**: SvelteKit with TypeScript
- **Styling**: Tailwind CSS with theme support
- **Backend**: Supabase (PostgreSQL)
- **API**: Modular API functions in `$lib/api/dataElements.ts`
- **Components**: Reusable table component with CRUD operations

## Error Handling

- Form validation for required fields
- Database error handling and user feedback
- Session validation and security checks
- Loading states and user feedback 